@page "/articles/create/categories"
@using TicketingSystemFrontend.Client.DTOs
@using TicketingSystemFrontend.Client.Services.Interfaces
@inject IArticleCrudService ArticleService
@inject NavigationManager Navigation

<h3>Edit Categories</h3>

@if (!categories.Any())
{
    <p><em>Loading categories...</em></p>
}
else
{
    <ul class="list-group mb-3">
        @foreach (var category in categories)
        {
            @if(!isEditing) 
            {
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    @category.CategoryName
                    <div>
                        <button type="button" class="btn btn-warning">Edit</button>
                        <button type="button" class="btn btn-danger">Delete</button>
                        <span class="badge bg-secondary">A: @category.Id</span>
                    </div>
                </li>
            }
        }
    </ul>
    <div>
        <button type="button" class="btn btn-primary me-3">Confirm</button>
        <button type="button" class="btn btn-secondary">Cancel</button>
    </div>
}

@code {
    private List<ArticleCategoryDto> categories = [];

    private bool isEditing = false;

    protected override async Task OnInitializedAsync()
    {
        //categories = await ArticleService.GetAllArticleCategoriesAsync();
    }

    private void StartEditing()
    {
        isEditing = true;
    }
}
