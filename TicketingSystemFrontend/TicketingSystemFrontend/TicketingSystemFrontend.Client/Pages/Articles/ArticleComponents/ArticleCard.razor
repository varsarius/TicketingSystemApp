@using TicketingSystemFrontend.Client.DTOs

<div class="col">
    <div class="card h-100 shadow-sm border-0">
        <div class="card-body d-flex flex-column">
            <h5 class="card-title text-primary">@Article.Title</h5>
            <h6 class="card-subtitle mb-2 text-muted">
                Category: @Article.ArticleCategoryName
            </h6>

            <!-- Truncated description -->
            <p class="card-text flex-grow-1 text-truncate-3">
                @Article.Description
            </p>

            <p class="text-muted small mt-3 mb-2">
                By: @Article.UserName <br />
                Created: @Article.CreatedAt.ToShortDateString() <br />
                @(Article.UpdatedAt?.ToShortDateString() != null ? "Edited: " + Article.UpdatedAt?.ToShortDateString() : "")
            </p>

            <!-- View More button -->
            <a class="btn btn-sm btn-outline-primary" href="/articles/@Article.Id">
                Read More
            </a>
        </div>
    </div>
</div>

<style>
    .text-truncate-3 {
        overflow: hidden;
        display: -webkit-box;
        -webkit-line-clamp: 3; /* Limit to 3 lines */
        -webkit-box-orient: vertical;
        text-overflow: ellipsis;
    }
</style>

@code {
    [Parameter]
    public ArticleDto Article { get; set; } = null!;
}